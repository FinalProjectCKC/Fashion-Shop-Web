{"version":3,"file":"static/webpack/static/development/pages/_app.js.4c377a15bc05873181c8.hot-update.js","sources":["webpack:///./containers/LayoutContainer/Header/Header.tsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { openModal } from \"@redq/reuse-modal\";\nimport NavLink from \"components/NavLink/NavLink\";\nimport Popover from \"components/Popover/Popover\";\nimport SearchBox from \"components/SearchBox/SearchBox\";\nimport { SearchContext } from \"contexts/search/search.context\";\nimport { AuthContext } from \"contexts/auth/auth.context\";\nimport AuthenticationForm from \"../../SignInOutForm/Form\";\nimport { FormattedMessage } from \"react-intl\";\nimport Button from \"components/Button/Button\";\nimport LanguageContext from \"contexts/language/language.context\";\n\nimport {\n  FruitsVegetable,\n  MenuDown,\n  FacialCare,\n  DressIcon,\n  Handbag,\n  HelpIcon,\n  BookIcon,\n  FurnitureIcon,\n  DEFlag,\n  CNFlag,\n  USFlag,\n  ILFlag,\n  ESFlag,\n  SAFlag,\n} from \"components/AllSvgIcon\";\nimport HeaderWrapper, {\n  HeaderLeftSide,\n  HeaderRightSide,\n  Logo,\n  MainMenu,\n  SelectedType,\n  DropDownArrow,\n  SelectedLang,\n  LanguageItem,\n  LangSwithcer,\n  Flag,\n  TypeIcon,\n} from \"./Header.style\";\nimport Logoimage from \"image/logo.svg\";\nimport UserImage from \"image/user.jpg\";\nimport {\n  HOME_PAGE,\n  GROCERY_PAGE,\n  CLOTHING,\n  MAKEUP_PAGE,\n  BAGS_PAGE,\n  FURNITURE_PAGE,\n  BOOK_PAGE,\n  PROCEED_TO_CHECKOUT_PAGE,\n  PROFILE_PAGE,\n  ORDER_RECEIVED,\n  YOUR_ORDER,\n  OFFER_PAGE,\n  HELP_PAGE,\n} from \"constants/navigation\";\ntype HeaderProps = {\n  style?: any;\n  className?: string;\n  token: string;\n  pathname: string;\n};\n\nconst MenuArray = [\n  {\n    link: GROCERY_PAGE,\n    icon: <FruitsVegetable />,\n    label: \"Grocery\",\n  },\n  {\n    link: MAKEUP_PAGE,\n    label: \"Makeup\",\n    icon: <FacialCare />,\n  },\n  {\n    link: BAGS_PAGE,\n    label: \"Bags\",\n    icon: <Handbag />,\n  },\n  {\n    link: CLOTHING,\n    label: \"Clothing\",\n    icon: <DressIcon />,\n  },\n  {\n    link: FURNITURE_PAGE,\n    label: \"Furniture\",\n    icon: <FurnitureIcon width=\"15px\" height=\"13px\" />,\n  },\n  {\n    link: BOOK_PAGE,\n    label: \"Book\",\n    icon: <BookIcon width=\"15px\" height=\"13px\" />,\n  },\n];\n\nconst DropDownMenuArray = [\n  {\n    link: PROFILE_PAGE,\n    label: \"Profile\",\n    intlId: \"navlinkProfile\",\n  },\n  {\n    link: PROCEED_TO_CHECKOUT_PAGE,\n    label: \"Checkout\",\n    intlId: \"navlinkCheckout\",\n  },\n  {\n    link: YOUR_ORDER,\n    label: \"Order\",\n    intlId: \"sidebarYourOrder\",\n  },\n  {\n    link: ORDER_RECEIVED,\n    label: \"Order invoice\",\n    intlId: \"navlinkOrderReceived\",\n  },\n];\n\nconst LanguageArray = [\n  { id: \"ar\", label: \"Arabic\", intlLangName: \"intlArabic\", icon: <SAFlag /> },\n  { id: \"zh\", label: \"Chinese\", intlLangName: \"intlChinese\", icon: <CNFlag /> },\n  { id: \"en\", label: \"English\", intlLangName: \"intlEnglish\", icon: <USFlag /> },\n  { id: \"de\", label: \"German\", intlLangName: \"intlGerman\", icon: <DEFlag /> },\n  { id: \"he\", label: \"Hebrew\", intlLangName: \"intlHebrew\", icon: <ILFlag /> },\n  { id: \"es\", label: \"Spanish\", intlLangName: \"intlSpanish\", icon: <ESFlag /> },\n];\n\nconst Header: React.FC<HeaderProps> = ({\n  style,\n  className,\n  token,\n  pathname,\n}) => {\n  const {\n    state: { lang },\n    toggleLanguage,\n  } = useContext<any>(LanguageContext);\n\n  const activeMenuItem = MenuArray.find((item) => item.link === pathname);\n\n  const selectedLangindex = LanguageArray.findIndex((x) => x.id === lang);\n\n  const {\n    authState: { isAuthenticated },\n    authDispatch,\n  } = useContext<any>(AuthContext);\n  const { state, dispatch } = useContext(SearchContext);\n  const [activeMenu, setActiveMenu] = useState(\n    activeMenuItem || {\n      link: GROCERY_PAGE,\n      icon: <FruitsVegetable />,\n      label: \"Grocery\",\n    }\n  );\n\n  const { text } = state;\n  const handleSearch = (text: any) => {\n    dispatch({\n      type: \"UPDATE\",\n      payload: {\n        ...state,\n        text,\n      },\n    });\n  };\n  const { page, ...urlState } = state;\n  const handleClickSearchButton = () => {\n    Router.push({\n      pathname: pathname === \"/\" ? \"/grocery\" : pathname,\n      query: { ...urlState, text },\n    });\n  };\n  const handleLogout = () => {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"access_token\");\n      authDispatch({ type: \"SIGN_OUT\" });\n      Router.push(\"/\");\n    }\n  };\n  const resetSearch = (selectedMenu: any) => {\n    setActiveMenu(selectedMenu);\n    dispatch({\n      type: \"RESET\",\n    });\n  };\n  const NavItem = (item: any) => {\n    return (\n      <NavLink\n        key={item.link}\n        onClick={() => resetSearch(item)}\n        className=\"menu-item\"\n        href={item.link}\n        label={item.label}\n        icon={item.icon}\n        iconClass=\"menu-item-icon\"\n      />\n    );\n  };\n\n  const handleToggleLanguage = (e) => {\n    toggleLanguage(e.target.value);\n  };\n\n  const LanguageMenu = (item: any) => {\n    return (\n      <LanguageItem\n        onClick={handleToggleLanguage}\n        key={item.id}\n        value={item.id}\n      >\n        <span>{item.icon}</span>\n        <FormattedMessage id={item.intlLangName} defaultMessage={item.label} />\n      </LanguageItem>\n    );\n  };\n\n  const signInOutForm = () => {\n    authDispatch({\n      type: \"SIGNIN\",\n    });\n\n    openModal({\n      show: true,\n      overlayClassName: \"quick-view-overlay\",\n      closeOnClickOutside: true,\n      component: AuthenticationForm,\n      closeComponent: \"\",\n      config: {\n        enableResizing: false,\n        disableDragging: true,\n        className: \"quick-view-modal\",\n        width: 458,\n        height: \"auto\",\n      },\n    });\n  };\n\n  const isHomePage =\n    pathname === HOME_PAGE ||\n    pathname === GROCERY_PAGE ||\n    pathname === CLOTHING ||\n    pathname === MAKEUP_PAGE ||\n    pathname === BOOK_PAGE ||\n    pathname === FURNITURE_PAGE ||\n    pathname === BAGS_PAGE;\n\n  return (\n    <HeaderWrapper style={style} className={className}>\n      <HeaderLeftSide>\n        <Logo\n          onClick={() =>\n            resetSearch({\n              link: GROCERY_PAGE,\n              icon: <FruitsVegetable />,\n              label: \"Grocery\",\n            })\n          }\n        >\n          <Link href={HOME_PAGE}>\n            <a>\n              <img src={Logoimage} alt=\"pickbazar-admin\" />\n            </a>\n          </Link>\n        </Logo>\n        <MainMenu>\n          <Popover\n            className=\"right\"\n            handler={\n              <SelectedType>\n                <span>\n                  <TypeIcon>{activeMenu.icon}</TypeIcon>\n                  <span>{activeMenu.label}</span>\n                </span>\n                <DropDownArrow>\n                  <MenuDown />\n                </DropDownArrow>\n              </SelectedType>\n            }\n            content={<>{MenuArray.map(NavItem)}</>}\n          />\n        </MainMenu>\n      </HeaderLeftSide>\n      {isHomePage ? (\n        <SearchBox\n          className=\"headerSearch\"\n          handleSearch={(value: any) => handleSearch(value)}\n          onClick={handleClickSearchButton}\n          placeholder=\"Search anything...\"\n          hideType={true}\n          minimal={true}\n          showSvg={true}\n          style={{ width: \"100%\" }}\n          value={text || \"\"}\n        />\n      ) : null}\n      <HeaderRightSide>\n        <NavLink\n          className=\"menu-item\"\n          href={OFFER_PAGE}\n          label=\"Offer\"\n          intlId=\"navlinkOffer\"\n        />\n        <NavLink\n          className=\"menu-item\"\n          href={HELP_PAGE}\n          label=\"Need Help\"\n          intlId=\"navlinkHelp\"\n          iconClass=\"menu-icon\"\n          icon={<HelpIcon />}\n        />\n        {/* <LangSwithcer>\n          <Popover\n            className=\"right\"\n            handler={\n              <SelectedLang>\n                <Flag>{LanguageArray[selectedLangindex].icon}</Flag>\n                <span>\n                  <FormattedMessage\n                    id={LanguageArray[selectedLangindex].intlLangName}\n                    defaultMessage={LanguageArray[selectedLangindex].label}\n                  />\n                </span>\n              </SelectedLang>\n            }\n            content={<>{LanguageArray.map(LanguageMenu)}</>}\n          />\n        </LangSwithcer> */}\n\n        {!isAuthenticated ? (\n          <Button\n            onClick={signInOutForm}\n            size=\"small\"\n            title=\"Join\"\n            style={{ fontSize: 15, color: \"#fff\" }}\n            intlButtonId=\"joinButton\"\n          />\n        ) : (\n          <Popover\n            direction=\"right\"\n            className=\"user-pages-dropdown\"\n            handler={<img src={UserImage} alt=\"user\" />}\n            content={\n              <>\n                {DropDownMenuArray.map((item, idx) => (\n                  <NavLink\n                    key={idx}\n                    className=\"menu-item\"\n                    href={item.link}\n                    label={item.label}\n                    intlId={item.intlId}\n                  />\n                ))}\n                <div className=\"menu-item\" onClick={handleLogout}>\n                  <a>\n                    <span>\n                      <FormattedMessage\n                        id=\"navlinkLogout\"\n                        defaultMessage=\"Logout\"\n                      />\n                    </span>\n                  </a>\n                </div>\n              </>\n            }\n          />\n        )}\n      </HeaderRightSide>\n    </HeaderWrapper>\n  );\n};\n\nexport default Header;\n"],"mappings":"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","sourceRoot":""}